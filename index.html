<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meem-Albi Bank</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    

    <div id="login-area" >
        <h1 class="text-center">Welcome to Meem-Albi Bank</h1>
    
    <div class="submit-area ">
        <h4 class="mb-3">Login</h4>
        <input id="input-email" type="text" class="form-control" placeholder="Enter Your Email">
        <br>
        <input id="input-password" type="password" placeholder="Enter Your Password" class="form-control">
        <br>
        <button id="login" class="btn btn-success">Enter</button>
    </div>
</div>

<div id="transaction-area">
<div class="row">
    <div class="col-md-4 ">
       <div class="deposit status">
        <h5>Deposit</h5>
        <h2>$ <span id="current-deposit">0</span></h2>
       </div>
    </div>
    <div class="col-md-4 ">
       <div class="withdraw status">
        <h5>Withdraw</h5>
        <h2>$ <span id="current-withdraw">0</span> </h2>
       </div>
    </div>
    <div class="col-md-4 ">
       <div class="balance status">
        <h5>Balance</h5>
        <h2>$ <span id="currentBalance">1240</span></h2>
       </div>
    </div>
    <!-- here we use div in col so that we can resize our div without impacting others cols position. -->
</div>
<!-- .row>.col-md-6*2>h4+input+btn.btn.btn-success -->
<div class="row">
    <div class="col-md-6">
      <div class="submit-area">
        <h4>Deposit</h4>
        <input id="deposit-amount" type="text" class="form-control" placeholder="$ amount you want to  deposit" >
        <br>
        <button class="btn btn-success" onclick="bankHandler('deposit')">Deposit</button>
      </div>
    </div>
    <div class="col-md-6">
        <div class="submit-area">
            <h4>Withdraw</h4>
        <input id="withdraw-amount" type="text" class="form-control" placeholder="$ amount you want to withdraw">
        <br>
        <button onclick="bankHandler('withdraw')" class="btn btn-success" >Withdraw</button>
        </div>
</div>
    <!-- if we add submit area in col then two box will get together.and we have to separate.so that we cut all col element and put them into submit area div.  -->
</div>
</div>


   
<script>
    // login button event handler
    document.getElementById("login").addEventListener('click',function(){
        
        const email = ["meemalbi@gmail.com","tanvir","Hassan" ,"meem","albi","suru"]
       const checkEmail = checker(email,"input-email");
       const password = ["albimeem","meemalbi","meemismylove","albismyjan","suruda"]
       checkPassword = checker(password,"input-password");
// 
        if (checkEmail == true && checkPassword == true ){
        const loginArea = document.getElementById("login-area");
        loginArea.style.display = "none";
        const transactionArea = document.getElementById("transaction-area");
        transactionArea.style.display = "block";
        // here break is used for stoping funtion when required value checked
        }
        else{
            alert("wrong email or password .try again.")
        }
    
    })


    // function checker
    function checker(checkFor,checkForInputId){
        const input = document.getElementById(checkForInputId).value;
            let index = checkFor.indexOf(input);
        if(index == -1){
            return false;
        }
        else{
            return true;
        } 
    }

    // bankHandler function.
function bankHandler(task){
    const taskAmount = document.getElementById(task+"-amount").value;
const taskAmountNumber = parseFloat(taskAmount);
const currentTask = document.getElementById("current-"+ task).innerText;
const currentTaskNumber = parseFloat(currentTask)
let totalTask = currentTaskNumber;
if (taskAmountNumber >= 0){
    totalTask = currentTaskNumber + taskAmountNumber;
}
else{
    alert("Amount Error!!! Currency can't be negative!")
}
document.getElementById("current-" + task).innerText = totalTask;
document.getElementById(task + "-amount").value = "" ;
const currentBalance = document.getElementById("currentBalance").innerText;
const currentBalanceNumber = parseFloat(currentBalance);
let totalBalance = currentBalanceNumber;


if ( task == 'deposit' && taskAmountNumber > 0){
    totalBalance = currentBalanceNumber + taskAmountNumber;
}
if (task == 'withdraw' && taskAmountNumber > 0 ){
    if(currentBalanceNumber >= taskAmountNumber ){
        totalBalance = currentBalanceNumber - taskAmountNumber;
    }
    else if( currentBalanceNumber < taskAmountNumber ){
        alert("Insufficient balance! Please Deposit sufficient $")
//         const shortBalance = taskAmountNumber - currentBalanceNumber;
//          console.log(shortBalance);
        //   how to add const in alert.   
    }
}
document.getElementById("currentBalance").innerText = totalBalance;
}
</script>
</body>
</html>